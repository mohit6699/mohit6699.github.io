<style>
    .promo-code-adb {
        background-image: linear-gradient(#F5831E, #F5831E);
        display: flex;
        align-items: center;
        padding: 0.75rem 0.75rem;
        color: #fff;
        font-size: 0.75rem;
        cursor: pointer;
        line-height: 1.2;
        border-radius: 0.25rem;
    }

    .promo-code-adb:hover {
        opacity: 0.8;
        cursor: pointer;
    }

    .bold-text {
        font-weight: 600;
    }

    .tnc-link {
        color: #fff;
        font-size: 0.5rem;
    }

    .notify-bubble_1 {
        padding: 0.1rem;
        margin: 0.1rem;
        background-color: white;
        color: black;
        font-size: 12px;
        width: 3.5rem;
        border: 1px solid grey;
        border-radius: 10%;
        display: none;
        position: absolute;
        z-index: 1;
        text-align: center;
    }

    .margin-top-10 {
        margin-top: 10px;
    }
</style>

<script>
    (function () {
        try {
            var counter = 0;
            let element_1 = document.querySelector(".pdp-middle-container > div > p:nth-child(2)");

            function hideBubble(eleClass) {
                document.querySelector(eleClass).style.display = "none";
            }

            var waitForElement = function () {
                if (element_1 != null) {
                    let promoBanner_1 = `<span class="notify-bubble_1 margin-top-10">Copied!</span><span id="adb-promo-pdp-1" class="promo-code-adb margin-top-10"><p><span class="bold-text">Get S$20 off*&nbsp;</span> on your first purchase with code <span class="bold-text">&nbsp;ISCNEW20.&nbsp;</span><br>Tap to copy code.<a class="tnc-link"> *Valid with S$79 spend. T&Cs apply.</a></p></span>`;
                    let sp_promo_selector = document.querySelector(".pdp-middle-container > div > p:nth-child(2) > div");

                    if (sp_promo_selector != null) {
                        sp_promo_selector.insertAdjacentHTML("beforebegin", promoBanner_1);
                    } else {
                        element_1.insertAdjacentHTML("beforeend", promoBanner_1);
                    }

                    let clickBanner_1 = document.querySelector("#adb-promo-pdp-1");
                    clickBanner_1.addEventListener('click', function () {
                        var name = 'en_iscnew20-nt_pdp_banner_campaign_promo_exp_b';
                        if (window.s_gi) {
                            var s = s_gi('changairport-prod-new');
                            s.linkTrackVars = "eVar126,event143";
                            s.eVar126 = name;
                            s.event143 = "ISCNEW-Promo";
                            s.events = "event143";
                            s.linkTrackEvents = "event143";
                            s.tl(true, "o", name);
                        }
                        navigator.clipboard.writeText("ISCNEW20");
                        document.querySelector(".notify-bubble_1").style.display = "block";
                        setTimeout(() => {
                            hideBubble(".notify-bubble_1");
                        }, 3000)
                    });
                } else {
                    ++counter;
                    counter < 100 && setTimeout(function () { waitForElement(); }, 100);
                }
            }
            waitForElement();
        } catch (error) {
            console.log(error);
        }

    })();
</script>