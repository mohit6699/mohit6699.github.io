<!doctype html>
<html lang="en">

<head>
    <title>MT Capstone</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/index.css">

    <!--Data Layer to enable rich data collection and targeting-->
    <script>
        console.log("Post launch => ln:13 ", localStorage.getItem("authState"));
        let memberTypeList = ['', 'silver', 'gold'];
        var digitalData = {
            "page": {
                "pageInfo": {
                    "pageName": "Home"
                }
            },
            "profile": {
                "memberType": memberTypeList[Math.floor((Math.random() * 3))],
                "loggedIn": false
            },
        };

        localStorage.setItem("memberType", digitalData.profile.memberType);        
    </script>
    <!--/Data Layer-->

    <script>
        window.targetGlobalSettings = {
            cookieDomain: 'mohit6699.github.io'
        };
    </script>

    <script>
        (function (win, doc, style, timeout) {
            var STYLE_ID = 'at-body-style';
            function getParent() {
                return doc.getElementsByTagName('head')[0];
            }
            function addStyle(parent, id, def) {
                if (!parent) {
                    return;
                }
                var style = doc.createElement('style');
                style.id = id;
                style.innerHTML = def;
                parent.appendChild(style);
            }
            function removeStyle(parent, id) {
                if (!parent) {
                    return;
                }
                var style = doc.getElementById(id);
                if (!style) {
                    return;
                }
                parent.removeChild(style);
            }
            addStyle(getParent(), STYLE_ID, style);
            setTimeout(function () {
                removeStyle(getParent(), STYLE_ID);
            }, timeout);
        }(window, document, "body {opacity: 0 !important}", 3000));
    </script>

    <!--Launch Header Embed Code-->
    <script src="https://assets.adobedtm.com/6268dc4b6b26/3687404ba15d/launch-6d737dfee008-development.min.js"
        async></script>
    <!--/Launch Header Embed Code-->

</head>

<body>
    <header>
        <h2>Header</h2>
        <img class="userIcon" src="../images/user.png" />
        <button id="loginButton" onclick="login()">Login</button>
        <button id="logoutButton" onclick="logout()">Logout</button>
    </header>
    <div id="main">
        <article><button>Click</button></article>
        <nav>
            <a href="pages/alpha.html">Navigate to Page-A</a>
        </nav>
        <aside>Aside</aside>
    </div>
    <footer>Footer</footer>

    <script>
        function login() {
            document.getElementById("logoutButton").style.display = "none";
            localStorage.setItem("authState", true);
            window.location.reload();
            console.log(localStorage.getItem("authState"));
        }

        function logout() {
            document.getElementById("loginButton").style.display = "none";
            localStorage.setItem("authState", false);
            window.location.reload();
            console.log(localStorage.getItem("authState"));
        }

        console.log("Post launch => ln:78 ", localStorage.getItem("authState"));
    </script>
</body>

</html>